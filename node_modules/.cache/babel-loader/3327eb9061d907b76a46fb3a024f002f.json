{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Firas Chikhaoui\\\\Desktop\\\\Nouveau dossier\\\\trackmedds_front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Firas Chikhaoui\\\\Desktop\\\\Nouveau dossier\\\\trackmedds_front_end\\\\src\\\\containers\\\\layouts\\\\Header.jsx\";\nimport React, { useRef, useCallback, useState } from \"react\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { IoMdClose } from \"react-icons/io\";\nimport debounce from \"lodash/debounce\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport Select from 'react-select';\nimport { // UncontrolledDropdown,\n// DropdownToggle,\n// DropdownMenu,\n// DropdownItem,\nFormGroup, CustomInput } from \"reactstrap\";\nimport { Carousel, CarouselItem, CarouselControl, CarouselIndicators, CarouselCaption } from 'reactstrap';\nimport { regions } from \"utils/common\";\nimport getImage from \"utils/images\";\nimport { getItems, itemsFilterChange, clearItems } from \"redux/actions/getItem\"; // @ts-ignore\n\nimport colors from \"assets/css/colors.scss\";\nconst items = [{\n  src: getImage(\"imgslider1\"),\n  altText: 'Slide 1',\n  caption: 'traceability'\n}, {\n  src: getImage(\"imgslider2\"),\n  altText: 'Slide 2',\n  caption: 'instantaneous'\n}, {\n  src: getImage(\"imgslider3\"),\n  altText: 'Slide 3',\n  caption: 'security'\n}];\nconst theme = colors.theme,\n      themeBr = colors.themeBr;\n\nconst Header = props => {\n  // SLIDE\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        activeIndex = _useState2[0],\n        setActiveIndex = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        animating = _useState4[0],\n        setAnimating = _useState4[1];\n\n  const selectedOption = props.selectedOption,\n        dispatch = props.dispatch,\n        filters = props.filters,\n        pathname = props.location.pathname;\n  const _filters$search = filters.search,\n        search = _filters$search === void 0 ? \"\" : _filters$search;\n  const myInp = useRef(null);\n\n  function loadData(searchValue) {\n    dispatch(clearItems());\n    dispatch(getItems());\n  }\n\n  const delayedQuery = useCallback(debounce(loadData, 300), []);\n\n  const onRegionChange = selectedOption => {\n    if (selectedOption !== null) {\n      dispatch(itemsFilterChange({\n        region: selectedOption.value,\n        skip: 0\n      }));\n    } else {\n      dispatch(itemsFilterChange({\n        region: \"\",\n        skip: 0\n      }));\n    }\n\n    dispatch(clearItems());\n    dispatch(getItems());\n  };\n\n  const onSearch = event => {\n    const value = event.target.value;\n    dispatch(itemsFilterChange({\n      search: value,\n      sort: \"\",\n      order: \"\",\n      skip: 0\n    }));\n    delayedQuery(value);\n  };\n\n  const clearSearch = () => {\n    dispatch(itemsFilterChange({\n      search: \"\",\n      sort: \"\",\n      order: \"\",\n      skip: 0\n    }));\n    loadData(\"\");\n  };\n\n  const moveToHome = () => {\n    props.history.push(\"/\");\n  }; // slide\n\n\n  const next = () => {\n    if (animating) return;\n    const nextIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;\n    setActiveIndex(nextIndex);\n  };\n\n  const previous = () => {\n    if (animating) return;\n    const nextIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;\n    setActiveIndex(nextIndex);\n  };\n\n  const goToIndex = newIndex => {\n    if (animating) return;\n    setActiveIndex(newIndex);\n  };\n\n  const options = regions.map(option => ({\n    value: option,\n    label: option\n  }));\n  const slides = items.map(item => {\n    return React.createElement(CarouselItem, {\n      onExiting: () => setAnimating(true),\n      onExited: () => setAnimating(false),\n      key: item.src,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: item.src,\n      alt: item.altText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(CarouselCaption, {\n      captionText: \"\",\n      captionHeader: item.caption,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }));\n  });\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"Header d-flex justify-content-between\",\n    style: {\n      backgroundColor: theme,\n      borderTop: \"2px solid\",\n      borderColor: themeBr\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: getImage(\"logo\"),\n    alt: \"logo\",\n    onClick: moveToHome,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"center\",\n    style: {\n      background: themeBr\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(Link, {\n    className: \"nav-link\",\n    to: \"/reclamation\",\n    style: {\n      color: theme\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \"Reclamation\"))), pathname === \"/\" ? React.createElement(React.Fragment, null, React.createElement(Carousel, {\n    activeIndex: activeIndex,\n    next: next,\n    previous: previous,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(CarouselIndicators, {\n    items: items,\n    activeIndex: activeIndex,\n    onClickHandler: goToIndex,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }), slides, React.createElement(CarouselControl, {\n    direction: \"prev\",\n    directionText: \"Previous\",\n    onClickHandler: previous,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }), React.createElement(CarouselControl, {\n    direction: \"next\",\n    directionText: \"Next\",\n    onClickHandler: next,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  })), React.createElement(\"section\", {\n    className: \"box_search_home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-2 col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container_search_home col-lg-8 col-md-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container_search_home_block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-6 col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"search-wrapper left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"search center\",\n    onClick: () => {\n      myInp.current.focus();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, React.createElement(FaSearch, {\n    className: \"Header_icon search_icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    className: \"form-control\",\n    placeholder: \"Search by name medicament\",\n    onChange: onSearch,\n    value: search,\n    ref: myInp,\n    style: {\n      borderRadius: \"0px 4px 4px 0px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }), search.length ? React.createElement(IoMdClose, {\n    size: 25,\n    onClick: clearSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }) : null))), React.createElement(\"div\", {\n    className: \"col-lg-6 col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, React.createElement(FormGroup, {\n    className: \"Home_filterBar_form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, React.createElement(Select, {\n    value: selectedOption,\n    isClearable: true,\n    onChange: onRegionChange,\n    options: options,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  })))))))))) : void 0);\n};\n\nconst mapStateToProps = state => {\n  return {\n    filters: state.itemsReducer.filters\n  };\n};\n\nconst HeaderWithRouter = withRouter(props => React.createElement(Header, Object.assign({}, props, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 234\n  },\n  __self: this\n})));\nexport default connect(mapStateToProps)(HeaderWithRouter);","map":{"version":3,"sources":["C:/Users/Firas Chikhaoui/Desktop/Nouveau dossier/trackmedds_front_end/src/containers/layouts/Header.jsx"],"names":["React","useRef","useCallback","useState","FaSearch","IoMdClose","debounce","connect","withRouter","Link","Select","FormGroup","CustomInput","Carousel","CarouselItem","CarouselControl","CarouselIndicators","CarouselCaption","regions","getImage","getItems","itemsFilterChange","clearItems","colors","items","src","altText","caption","theme","themeBr","Header","props","activeIndex","setActiveIndex","animating","setAnimating","selectedOption","dispatch","filters","pathname","location","search","myInp","loadData","searchValue","delayedQuery","onRegionChange","region","value","skip","onSearch","event","target","sort","order","clearSearch","moveToHome","history","push","next","nextIndex","length","previous","goToIndex","newIndex","options","map","option","label","slides","item","backgroundColor","borderTop","borderColor","background","color","current","focus","borderRadius","mapStateToProps","state","itemsReducer","HeaderWithRouter"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,WAAxB,EAAqCC,QAArC,QAAqD,OAArD;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SACE;AACA;AACA;AACA;AACCC,SALH,EAMGC,WANH,QAOQ,YAPR;AAQC,SACCC,QADD,EAECC,YAFD,EAGCC,eAHD,EAICC,kBAJD,EAKCC,eALD,QAMM,YANN;AASA,SAASC,OAAT,QAAwB,cAAxB;AAED,OAAOC,QAAP,MAAqB,cAArB;AACA,SAASC,QAAT,EAAmBC,iBAAnB,EAAsCC,UAAtC,QAAwD,uBAAxD,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,MAAMC,KAAK,GAAG,CACZ;AACEC,EAAAA,GAAG,EAAEN,QAAQ,CAAC,YAAD,CADf;AAEEO,EAAAA,OAAO,EAAE,SAFX;AAGEC,EAAAA,OAAO,EAAE;AAHX,CADY,EAMZ;AACEF,EAAAA,GAAG,EAAEN,QAAQ,CAAC,YAAD,CADf;AAEEO,EAAAA,OAAO,EAAE,SAFX;AAGEC,EAAAA,OAAO,EAAE;AAHX,CANY,EAWZ;AACEF,EAAAA,GAAG,EAAEN,QAAQ,CAAC,YAAD,CADf;AAEEO,EAAAA,OAAO,EAAE,SAFX;AAGEC,EAAAA,OAAO,EAAE;AAHX,CAXY,CAAd;MAmBQC,K,GAAkBL,M,CAAlBK,K;MAAMC,O,GAAYN,M,CAAZM,O;;AAGd,MAAMC,MAAM,GAAGC,KAAK,IAAI;AAEtB;AAFsB,oBAGgB5B,QAAQ,CAAC,CAAD,CAHxB;AAAA;AAAA,QAGf6B,WAHe;AAAA,QAGFC,cAHE;;AAAA,qBAIY9B,QAAQ,CAAC,KAAD,CAJpB;AAAA;AAAA,QAIf+B,SAJe;AAAA,QAIJC,YAJI;;AAAA,QAOpBC,cAPoB,GAWlBL,KAXkB,CAOpBK,cAPoB;AAAA,QAQpBC,QARoB,GAWlBN,KAXkB,CAQpBM,QARoB;AAAA,QASpBC,OAToB,GAWlBP,KAXkB,CASpBO,OAToB;AAAA,QAURC,QAVQ,GAWlBR,KAXkB,CAUpBS,QAVoB,CAURD,QAVQ;AAAA,0BAaED,OAbF,CAadG,MAbc;AAAA,QAadA,MAbc,gCAaL,EAbK;AActB,QAAMC,KAAK,GAAGzC,MAAM,CAAC,IAAD,CAApB;;AACA,WAAS0C,QAAT,CAAkBC,WAAlB,EAA+B;AAC7BP,IAAAA,QAAQ,CAACf,UAAU,EAAX,CAAR;AACAe,IAAAA,QAAQ,CAACjB,QAAQ,EAAT,CAAR;AACD;;AACD,QAAMyB,YAAY,GAAG3C,WAAW,CAACI,QAAQ,CAACqC,QAAD,EAAW,GAAX,CAAT,EAA0B,EAA1B,CAAhC;;AAEA,QAAMG,cAAc,GAAGV,cAAc,IAAI;AAEvC,QAAGA,cAAc,KAAG,IAApB,EAAyB;AACvBC,MAAAA,QAAQ,CAAChB,iBAAiB,CAAC;AAAE0B,QAAAA,MAAM,EAAEX,cAAc,CAACY,KAAzB;AAAgCC,QAAAA,IAAI,EAAE;AAAtC,OAAD,CAAlB,CAAR;AACD,KAFD,MAEK;AACHZ,MAAAA,QAAQ,CAAChB,iBAAiB,CAAC;AAAE0B,QAAAA,MAAM,EAAE,EAAV;AAAcE,QAAAA,IAAI,EAAE;AAApB,OAAD,CAAlB,CAAR;AACD;;AAEDZ,IAAAA,QAAQ,CAACf,UAAU,EAAX,CAAR;AACAe,IAAAA,QAAQ,CAACjB,QAAQ,EAAT,CAAR;AACD,GAVD;;AAWA,QAAM8B,QAAQ,GAAGC,KAAK,IAAI;AAAA,UAEZH,KAFY,GAGpBG,KAHoB,CAEtBC,MAFsB,CAEZJ,KAFY;AAIxBX,IAAAA,QAAQ,CACNhB,iBAAiB,CAAC;AAAEoB,MAAAA,MAAM,EAAEO,KAAV;AAAiBK,MAAAA,IAAI,EAAE,EAAvB;AAA2BC,MAAAA,KAAK,EAAE,EAAlC;AAAsCL,MAAAA,IAAI,EAAE;AAA5C,KAAD,CADX,CAAR;AAIAJ,IAAAA,YAAY,CAACG,KAAD,CAAZ;AACD,GATD;;AAUA,QAAMO,WAAW,GAAG,MAAM;AACxBlB,IAAAA,QAAQ,CAAChB,iBAAiB,CAAC;AAAEoB,MAAAA,MAAM,EAAE,EAAV;AAAcY,MAAAA,IAAI,EAAE,EAApB;AAAwBC,MAAAA,KAAK,EAAE,EAA/B;AAAmCL,MAAAA,IAAI,EAAE;AAAzC,KAAD,CAAlB,CAAR;AACAN,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACD,GAHD;;AAKA,QAAMa,UAAU,GAAG,MAAM;AACvBzB,IAAAA,KAAK,CAAC0B,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACD,GAFD,CA/CsB,CAmDxB;;;AAEA,QAAMC,IAAI,GAAG,MAAM;AACjB,QAAIzB,SAAJ,EAAe;AACf,UAAM0B,SAAS,GAAG5B,WAAW,KAAKR,KAAK,CAACqC,MAAN,GAAe,CAA/B,GAAmC,CAAnC,GAAuC7B,WAAW,GAAG,CAAvE;AACAC,IAAAA,cAAc,CAAC2B,SAAD,CAAd;AACD,GAJD;;AAMA,QAAME,QAAQ,GAAG,MAAM;AACrB,QAAI5B,SAAJ,EAAe;AACf,UAAM0B,SAAS,GAAG5B,WAAW,KAAK,CAAhB,GAAoBR,KAAK,CAACqC,MAAN,GAAe,CAAnC,GAAuC7B,WAAW,GAAG,CAAvE;AACAC,IAAAA,cAAc,CAAC2B,SAAD,CAAd;AACD,GAJD;;AAMA,QAAMG,SAAS,GAAIC,QAAD,IAAc;AAC9B,QAAI9B,SAAJ,EAAe;AACfD,IAAAA,cAAc,CAAC+B,QAAD,CAAd;AACD,GAHD;;AAKA,QAAMC,OAAO,GAAG/C,OAAO,CAACgD,GAAR,CAAYC,MAAM,KAAK;AACrCnB,IAAAA,KAAK,EAAEmB,MAD8B;AAErCC,IAAAA,KAAK,EAAED;AAF8B,GAAL,CAAlB,CAAhB;AAKA,QAAME,MAAM,GAAG7C,KAAK,CAAC0C,GAAN,CAAWI,IAAD,IAAU;AACjC,WACE,oBAAC,YAAD;AACE,MAAA,SAAS,EAAE,MAAMnC,YAAY,CAAC,IAAD,CAD/B;AAEE,MAAA,QAAQ,EAAE,MAAMA,YAAY,CAAC,KAAD,CAF9B;AAGE,MAAA,GAAG,EAAEmC,IAAI,CAAC7C,GAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE;AAAK,MAAA,GAAG,EAAE6C,IAAI,CAAC7C,GAAf;AAAoB,MAAA,GAAG,EAAE6C,IAAI,CAAC5C,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME,oBAAC,eAAD;AAAiB,MAAA,WAAW,EAAC,EAA7B;AAAgC,MAAA,aAAa,EAAE4C,IAAI,CAAC3C,OAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF;AAUD,GAXc,CAAf;AAaE,SACE,0CACA;AACE,IAAA,SAAS,EAAC,uCADZ;AAEE,IAAA,KAAK,EAAE;AACL4C,MAAAA,eAAe,EAAE3C,KADZ;AAEL4C,MAAAA,SAAS,EAAC,WAFL;AAGLC,MAAAA,WAAW,EAAC5C;AAHP,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE;AACE,IAAA,GAAG,EAAEV,QAAQ,CAAC,MAAD,CADf;AAEE,IAAA,GAAG,EAAC,MAFN;AAGE,IAAA,OAAO,EAAEqC,UAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EAaE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAwB,IAAA,KAAK,EAAE;AAACkB,MAAAA,UAAU,EAAC7C;AAAZ,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,UAAhB;AAA2B,IAAA,EAAE,EAAE,cAA/B;AAA+C,IAAA,KAAK,EAAE;AAAC8C,MAAAA,KAAK,EAAC/C;AAAP,KAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,CAbF,CADA,EAkBCW,QAAQ,KAAK,GAAb,GACC,0CACF,oBAAC,QAAD;AACE,IAAA,WAAW,EAAEP,WADf;AAEE,IAAA,IAAI,EAAE2B,IAFR;AAGE,IAAA,QAAQ,EAAEG,QAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,oBAAC,kBAAD;AAAoB,IAAA,KAAK,EAAEtC,KAA3B;AAAkC,IAAA,WAAW,EAAEQ,WAA/C;AAA4D,IAAA,cAAc,EAAE+B,SAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAMGM,MANH,EAOE,oBAAC,eAAD;AAAiB,IAAA,SAAS,EAAC,MAA3B;AAAkC,IAAA,aAAa,EAAC,UAAhD;AAA2D,IAAA,cAAc,EAAEP,QAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAQE,oBAAC,eAAD;AAAiB,IAAA,SAAS,EAAC,MAA3B;AAAkC,IAAA,aAAa,EAAC,MAAhD;AAAuD,IAAA,cAAc,EAAEH,IAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADE,EAWF;AAAS,IAAA,SAAS,EAAC,iBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAEE;AAAK,IAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACF;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AACE,IAAA,SAAS,EAAC,eADZ;AAEE,IAAA,OAAO,EAAE,MAAM;AACbjB,MAAAA,KAAK,CAACkC,OAAN,CAAcC,KAAd;AACD,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAC,yBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAOE;AACA,IAAA,SAAS,EAAC,cADV;AAEE,IAAA,WAAW,EAAC,2BAFd;AAGE,IAAA,QAAQ,EAAE3B,QAHZ;AAIE,IAAA,KAAK,EAAET,MAJT;AAKE,IAAA,GAAG,EAAEC,KALP;AAME,IAAA,KAAK,EAAE;AAACoC,MAAAA,YAAY,EAAE;AAAf,KANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAeGrC,MAAM,CAACoB,MAAP,GACC,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAE,EAAjB;AAAqB,IAAA,OAAO,EAAEN,WAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,GAEG,IAjBN,CAFF,CADE,CADA,EAyBJ;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,qBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AACA,IAAA,KAAK,EAAEnB,cADP;AAEA,IAAA,WAAW,MAFX;AAGA,IAAA,QAAQ,EAAEU,cAHV;AAIA,IAAA,OAAO,EAAEmB,OAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADA,CAzBI,CADF,CADA,CAFF,CADF,CADA,CAXE,CADD,GA6DK,KAAK,CA/EX,CADF;AAoFD,CA5KD;;AA6KA,MAAMc,eAAe,GAAGC,KAAK,IAAI;AAC/B,SAAO;AACL1C,IAAAA,OAAO,EAAE0C,KAAK,CAACC,YAAN,CAAmB3C;AADvB,GAAP;AAGD,CAJD;;AAMA,MAAM4C,gBAAgB,GAAG1E,UAAU,CAACuB,KAAK,IAAI,oBAAC,MAAD,oBAAYA,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAV,CAAnC;AACA,eAAexB,OAAO,CAACwE,eAAD,CAAP,CAAyBG,gBAAzB,CAAf","sourcesContent":["import React, { useRef, useCallback, useState } from \"react\";\r\nimport { FaSearch } from \"react-icons/fa\";\r\nimport { IoMdClose } from \"react-icons/io\";\r\nimport debounce from \"lodash/debounce\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Select from 'react-select';\r\nimport {\r\n  // UncontrolledDropdown,\r\n  // DropdownToggle,\r\n  // DropdownMenu,\r\n  // DropdownItem,\r\n   FormGroup,\r\n   CustomInput\r\n } from \"reactstrap\";\r\n import {\r\n  Carousel,\r\n  CarouselItem,\r\n  CarouselControl,\r\n  CarouselIndicators,\r\n  CarouselCaption\r\n} from 'reactstrap';\r\n\r\n\r\n import { regions } from \"utils/common\";\r\n\r\nimport getImage from \"utils/images\";\r\nimport { getItems, itemsFilterChange, clearItems } from \"redux/actions/getItem\";\r\n\r\n// @ts-ignore\r\nimport colors from \"assets/css/colors.scss\";\r\nconst items = [\r\n  {\r\n    src: getImage(\"imgslider1\"),\r\n    altText: 'Slide 1',\r\n    caption: 'traceability'\r\n  },\r\n  {\r\n    src: getImage(\"imgslider2\"),\r\n    altText: 'Slide 2',\r\n    caption: 'instantaneous'\r\n  },\r\n  {\r\n    src: getImage(\"imgslider3\"),\r\n    altText: 'Slide 3',\r\n    caption: 'security'\r\n  }\r\n];\r\n\r\n\r\nconst { theme,themeBr } = colors;\r\n\r\n\r\nconst Header = props => {\r\n\r\n  // SLIDE\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [animating, setAnimating] = useState(false);\r\n\r\n  const {\r\n    selectedOption,\r\n    dispatch,\r\n    filters,\r\n    location: { pathname }\r\n  } = props;\r\n\r\n  const { search = \"\" } = filters;\r\n  const myInp = useRef(null);\r\n  function loadData(searchValue) {\r\n    dispatch(clearItems());\r\n    dispatch(getItems());\r\n  }\r\n  const delayedQuery = useCallback(debounce(loadData, 300), []);\r\n\r\n  const onRegionChange = selectedOption => {\r\n\r\n    if(selectedOption!==null){\r\n      dispatch(itemsFilterChange({ region: selectedOption.value, skip: 0 }));\r\n    }else{\r\n      dispatch(itemsFilterChange({ region: \"\", skip: 0 }));\r\n    }\r\n    \r\n    dispatch(clearItems());\r\n    dispatch(getItems());\r\n  };\r\n  const onSearch = event => {\r\n    const {\r\n      target: { value }\r\n    } = event;\r\n    dispatch(\r\n      itemsFilterChange({ search: value, sort: \"\", order: \"\", skip: 0 })\r\n    );\r\n\r\n    delayedQuery(value);\r\n  };\r\n  const clearSearch = () => {\r\n    dispatch(itemsFilterChange({ search: \"\", sort: \"\", order: \"\", skip: 0 }));\r\n    loadData(\"\");\r\n  };\r\n\r\n  const moveToHome = () => {\r\n    props.history.push(\"/\");\r\n  };\r\n\r\n// slide\r\n\r\nconst next = () => {\r\n  if (animating) return;\r\n  const nextIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;\r\n  setActiveIndex(nextIndex);\r\n}\r\n\r\nconst previous = () => {\r\n  if (animating) return;\r\n  const nextIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;\r\n  setActiveIndex(nextIndex);\r\n}\r\n\r\nconst goToIndex = (newIndex) => {\r\n  if (animating) return;\r\n  setActiveIndex(newIndex);\r\n}\r\n\r\nconst options = regions.map(option => ({\r\n  value: option,\r\n  label: option,\r\n}))\r\n\r\nconst slides = items.map((item) => {\r\n  return (\r\n    <CarouselItem\r\n      onExiting={() => setAnimating(true)}\r\n      onExited={() => setAnimating(false)}\r\n      key={item.src}\r\n    >\r\n      <img src={item.src} alt={item.altText} />\r\n      <CarouselCaption captionText=\"\" captionHeader={item.caption} />\r\n    </CarouselItem>\r\n  );\r\n});\r\n\r\n  return (\r\n    <>\r\n    <div\r\n      className=\"Header d-flex justify-content-between\"\r\n      style={{\r\n        backgroundColor: theme,\r\n        borderTop:\"2px solid\",\r\n        borderColor:themeBr\r\n      }}\r\n    >\r\n      <img\r\n        src={getImage(\"logo\")}\r\n        alt=\"logo\"\r\n        onClick={moveToHome}\r\n      />\r\n      <div className=\"center\" style={{background:themeBr}}>\r\n      <Link className=\"nav-link\" to={\"/reclamation\"} style={{color:theme}}>Reclamation</Link>\r\n      </div>\r\n    </div>\r\n    {pathname === \"/\" ? (\r\n      <>\r\n    <Carousel\r\n      activeIndex={activeIndex}\r\n      next={next}\r\n      previous={previous}\r\n    >\r\n      <CarouselIndicators items={items} activeIndex={activeIndex} onClickHandler={goToIndex} />\r\n      {slides}\r\n      <CarouselControl direction=\"prev\" directionText=\"Previous\" onClickHandler={previous} />\r\n      <CarouselControl direction=\"next\" directionText=\"Next\" onClickHandler={next} />\r\n    </Carousel>\r\n    <section className=\"box_search_home\">\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n      <div className=\"col-lg-2 col-md-2\"></div>\r\n        <div className=\"container_search_home col-lg-8 col-md-8\">\r\n        <div className=\"container_search_home_block\">\r\n          <div className=\"row\">\r\n          <div className=\"col-lg-6 col-md-6\">\r\n        <div className=\"search-wrapper left\">\r\n       \r\n          <div\r\n            className=\"search center\"\r\n            onClick={() => {\r\n              myInp.current.focus();\r\n            }}\r\n          >\r\n            <FaSearch className=\"Header_icon search_icon\" />\r\n            <input\r\n            className=\"form-control\"\r\n              placeholder=\"Search by name medicament\"\r\n              onChange={onSearch}\r\n              value={search}\r\n              ref={myInp}\r\n              style={{borderRadius: \"0px 4px 4px 0px\"}}\r\n            />\r\n            {search.length ? (\r\n              <IoMdClose size={25} onClick={clearSearch} />\r\n            ) : null}\r\n          </div>\r\n      </div>\r\n      </div>\r\n      <div className=\"col-lg-6 col-md-6\">\r\n      <FormGroup className=\"Home_filterBar_form\">\r\n        <Select\r\n        value={selectedOption}\r\n        isClearable\r\n        onChange={onRegionChange}\r\n        options={options}\r\n      />\r\n      </FormGroup>\r\n      </div>\r\n      </div>\r\n      </div>\r\n       </div> \r\n       </div>   \r\n    </div>\r\n</section>\r\n</>\r\n) : (\r\n          void 0\r\n        )}\r\n    </>\r\n  );\r\n};\r\nconst mapStateToProps = state => {\r\n  return {\r\n    filters: state.itemsReducer.filters\r\n  };\r\n};\r\n\r\nconst HeaderWithRouter = withRouter(props => <Header {...props} />);\r\nexport default connect(mapStateToProps)(HeaderWithRouter);\r\n"]},"metadata":{},"sourceType":"module"}